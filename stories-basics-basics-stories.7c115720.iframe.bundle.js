"use strict";(self.webpackChunk_nosferatu500_react_sortable_tree=self.webpackChunk_nosferatu500_react_sortable_tree||[]).push([[446],{"./src/stories/basics/basics.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddAndRemoveNodesProgrammatically:()=>AddAndRemoveNodesProgrammatically,Callbacks:()=>basics_stories_Callbacks,MinimalImplementation:()=>MinimalImplementation,ModifyNodes:()=>basics_stories_ModifyNodes,PreventDrop:()=>PreventDrop,RowDirectionSupport:()=>RowDirectionSupport,Search:()=>basics_stories_Search,Themes:()=>basics_stories_Themes,TreeDataImportExport:()=>TreeDataImportExport,__namedExportsOrder:()=>__namedExportsOrder,default:()=>basics_stories});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./src/index.ts");const firstNames=["Abraham","Adam","Agnar","Albert","Albin","Albrecht","Alexander","Alfred","Alvar","Ander","Andrea","Arthur","Axel","Bengt","Bernhard","Carl","Daniel","Einar","Elmer","Eric","Erik","Gerhard","Gunnar","Gustaf","Harald","Herbert","Herman","Johan","John","Karl","Leif","Leonard","Martin","Matt","Mikael","Nikla","Norman","Oliver","Olof","Olvir","Otto","Patrik","Peter","Petter","Robert","Rupert","Sigurd","Simon"],add_remove=()=>{const[treeData,setTreeData]=(0,react.useState)([{title:"Peter Olofsson"},{title:"Karl Johansson"}]),[addAsFirstChild,setAddAsFirstChild]=(0,react.useState)(!1),getNodeKey=({treeIndex})=>treeIndex,getRandomName=()=>firstNames[Math.floor(Math.random()*firstNames.length)];return react.createElement("div",null,react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData,generateNodeProps:({node,path})=>({buttons:[react.createElement("button",{onClick:()=>{setTreeData((0,src.wQ)({treeData,parentKey:path[path.length-1],expandParent:!0,getNodeKey,newNode:{title:`${getRandomName()} ${node.title.split(" ")[0]}sson`},addAsFirstChild}).treeData)}},"Add Child"),react.createElement("button",{onClick:()=>{setTreeData((0,src.XY)({treeData,path,getNodeKey}))}},"Remove")]})})),react.createElement("button",{onClick:()=>{setTreeData(treeData.concat({title:`${getRandomName()} ${getRandomName()}sson`}))}},"Add more"),react.createElement("br",null),react.createElement("label",{htmlFor:"addAsFirstChild"},"Add new child node at start",react.createElement("input",{name:"addAsFirstChild",type:"checkbox",checked:addAsFirstChild,onChange:()=>{setAddAsFirstChild((value=>!value))}})))};try{addremove.displayName="addremove",addremove.__docgenInfo={description:"",displayName:"addremove",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/add-remove.tsx#addremove"]={docgenInfo:addremove.__docgenInfo,name:"addremove",path:"src/stories/basics/add-remove.tsx#addremove"})}catch(__react_docgen_typescript_loader_error){}const data=[{title:"Chicken",expanded:!0,children:[{title:"Egg"}]}],basics_barebones=()=>{const[treeData,setTreeData]=(0,react.useState)(data);return react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData}))};try{barebones.displayName="barebones",barebones.__docgenInfo={description:"",displayName:"barebones",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/barebones.tsx#barebones"]={docgenInfo:barebones.__docgenInfo,name:"barebones",path:"src/stories/basics/barebones.tsx#barebones"})}catch(__react_docgen_typescript_loader_error){}const basics_callbacks=()=>{const[treeData,setTreeData]=(0,react.useState)([{title:"A",expanded:!0,children:[{title:"B"}]},{title:"C"}]),[lastMovePrevPath,setLlastMovePrevPath]=(0,react.useState)(null),[lastMoveNextPath,setLastMoveNextPath]=(0,react.useState)(null),[lastMoveNode,setLastMoveNode]=(0,react.useState)(null),recordCall=(name,args)=>{console.log(`${name} called with arguments:`,args)};return react.createElement("div",null,"Open your console to see callback parameter info",react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData,getNodeKey:({node})=>`node${node.title}`,onVisibilityToggle:args=>recordCall("onVisibilityToggle",args),onMoveNode:args=>{recordCall("onMoveNode",args);const{prevPath,nextPath,node}=args;setLlastMovePrevPath(prevPath),setLastMoveNextPath(nextPath),setLastMoveNode(node)},onDragStateChanged:args=>recordCall("onDragStateChanged",args)})),lastMoveNode&&react.createElement("div",null,'Node "',lastMoveNode.title,'" moved from path [',lastMovePrevPath.join(","),"] to path [",lastMoveNextPath.join(","),"]."))};try{callbacks.displayName="callbacks",callbacks.__docgenInfo={description:"",displayName:"callbacks",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/callbacks.tsx#callbacks"]={docgenInfo:callbacks.__docgenInfo,name:"callbacks",path:"src/stories/basics/callbacks.tsx#callbacks"})}catch(__react_docgen_typescript_loader_error){}const can_drop_data=[{id:"trap",title:"Wicked witch",subtitle:"Traps people",expanded:!0,children:[{id:"trapped",title:"Trapped"}]},{id:"no-grandkids",title:"Jeannie",subtitle:"Doesn't allow grandchildren",expanded:!0,children:[{id:"jimmy",title:"Jimmy"}]},{id:"twin-1",title:"Twin #1",isTwin:!0,subtitle:"Doesn't play with other twin"},{id:"twin-2",title:"Twin #2",isTwin:!0,subtitle:"Doesn't play with other twin"}],can_drop=()=>{const[treeData,setTreeData]=(0,react.useState)(can_drop_data);return react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,canDrop:({node,nextParent,prevPath,nextPath})=>{if(prevPath.indexOf("trap")>=0&&nextPath.indexOf("trap")<0)return!1;if(node.isTwin&&nextParent&&nextParent.isTwin)return!1;const noGrandkidsDepth=nextPath.indexOf("no-grandkids");return!(noGrandkidsDepth>=0&&nextPath.length-noGrandkidsDepth>2)},getNodeKey:({node})=>node.id,onChange:setTreeData}))};try{candrop.displayName="candrop",candrop.__docgenInfo={description:"",displayName:"candrop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/can-drop.tsx#candrop"]={docgenInfo:candrop.__docgenInfo,name:"candrop",path:"src/stories/basics/can-drop.tsx#candrop"})}catch(__react_docgen_typescript_loader_error){}const modify_nodes_data=[{name:"IT Manager"},{name:"Regional Manager",expanded:!0,children:[{name:"Branch Manager"}]}],modify_nodes=()=>{const[treeData,setTreeData]=(0,react.useState)(modify_nodes_data),getNodeKey=({treeIndex})=>treeIndex;return react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData,generateNodeProps:({node,path})=>({title:react.createElement("input",{style:{fontSize:"1.1rem"},value:node.name,onChange:event=>{const name=event.target.value;setTreeData((0,src.rc)({treeData,path,getNodeKey,newNode:{...node,name}}))}})})}))};try{modifynodes.displayName="modifynodes",modifynodes.__docgenInfo={description:"",displayName:"modifynodes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/modify-nodes.tsx#modifynodes"]={docgenInfo:modifynodes.__docgenInfo,name:"modifynodes",path:"src/stories/basics/modify-nodes.tsx#modifynodes"})}catch(__react_docgen_typescript_loader_error){}const rtl_support_data=[{title:"Chicken",expanded:!0,children:[{title:"Egg"},{title:"Egg"},{title:"Egg"},{title:"Egg"},{title:"Egg"},{title:"Egg"}]}],rtl_support=()=>{const[treeData,setTreeData]=(0,react.useState)(rtl_support_data);return react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{rowDirection:"rtl",treeData,onChange:setTreeData}))};try{rtlsupport.displayName="rtlsupport",rtlsupport.__docgenInfo={description:"",displayName:"rtlsupport",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/rtl-support.tsx#rtlsupport"]={docgenInfo:rtlsupport.__docgenInfo,name:"rtlsupport",path:"src/stories/basics/rtl-support.tsx#rtlsupport"})}catch(__react_docgen_typescript_loader_error){}const basics_search=()=>{const getStack=(left,hasNeedle=!1)=>0===left?hasNeedle?{title:"Needle"}:{title:"Hay"}:{title:"Hay",children:[{title:"Hay",children:[getStack(left-1,hasNeedle&&left%2),{title:"Hay"}]},{title:"Hay"},{title:"Hay",children:[{title:"Hay"},getStack(left-1,hasNeedle&&(left+1)%2)]}]},[searchString,setSearchString]=(0,react.useState)(""),[searchFocusIndex,setSearchFocusIndex]=(0,react.useState)(0),[searchFoundCount,setSearchFoundCount]=(0,react.useState)(0),[treeData,setTreeData]=(0,react.useState)([{title:"Haystack",children:[getStack(3,!0),getStack(3),{title:"Hay"},getStack(2,!0)]}]);return react.createElement("div",null,react.createElement("h2",null,"Find the needle!"),react.createElement("form",{style:{display:"inline-block"},onSubmit:event=>{event.preventDefault()}},react.createElement("input",{id:"find-box",type:"text",placeholder:"Search...",style:{fontSize:"1rem"},value:searchString,onChange:event=>setSearchString(event.target.value)}),react.createElement("button",{type:"button",disabled:!searchFoundCount,onClick:()=>setSearchFocusIndex(null!==searchFocusIndex?(searchFoundCount+searchFocusIndex-1)%searchFoundCount:searchFoundCount-1)},"<"),react.createElement("button",{type:"submit",disabled:!searchFoundCount,onClick:()=>setSearchFocusIndex(null!==searchFocusIndex?(searchFocusIndex+1)%searchFoundCount:0)},">"),react.createElement("span",null," ",searchFoundCount>0?searchFocusIndex+1:0," / ",searchFoundCount||0)),react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData,searchMethod:({node,searchQuery})=>searchQuery&&node.title.toLowerCase().indexOf(searchQuery.toLowerCase())>-1,searchQuery:searchString,searchFocusOffset:searchFocusIndex,searchFinishCallback:matches=>{setSearchFoundCount(matches.length),setSearchFocusIndex(matches.length>0?searchFocusIndex%matches.length:0)}})))};try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/search.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/stories/basics/search.tsx#search"})}catch(__react_docgen_typescript_loader_error){}const themes_data=[{title:"The file explorer theme",expanded:!0,children:[{title:"Imported from @nosferatu500/theme-file-explorer",expanded:!0,children:[{title:react.createElement("div",null,"Find it on"," ",react.createElement("a",{href:"https://www.npmjs.com/package/@nosferatu500/theme-file-explorer"},"npm"))}]}]},{title:"More compact than the default"},{title:react.createElement("div",null,"Simply set it to the ",react.createElement("code",null,"theme")," prop and you’re done!")}],basics_themes=()=>{const[treeData,setTreeData]=(0,react.useState)(themes_data);return react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData}))};try{themes.displayName="themes",themes.__docgenInfo={description:"",displayName:"themes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/themes.tsx#themes"]={docgenInfo:themes.__docgenInfo,name:"themes",path:"src/stories/basics/themes.tsx#themes"})}catch(__react_docgen_typescript_loader_error){}const initialData=[{id:"1",name:"N1",parent:null},{id:"2",name:"N2",parent:null},{id:"3",name:"N3",parent:2},{id:"4",name:"N4",parent:3}],tree_data_io=()=>{const[treeData,setTreeData]=(0,react.useState)((0,src.O)({flatData:initialData.map((node=>({...node,title:node.name}))),getKey:node=>node.id,getParentKey:node=>node.parent,rootKey:null})),flatData=(0,src.kz)({treeData,getNodeKey:({node})=>node.id,ignoreCollapsed:!1}).map((({node,path})=>({id:node.id,name:node.name,parent:path.length>1?path[path.length-2]:null})));return react.createElement("div",null,"↓treeData for this tree was generated from flat data similar to DB rows↓",react.createElement("div",{style:{height:300,width:700}},react.createElement(src.XF,{treeData,onChange:setTreeData})),react.createElement("hr",null),"↓This flat data is generated from the modified tree data↓",react.createElement("ul",null,flatData.map((({id,name,parent})=>react.createElement("li",{key:id},"id: ",id,", name: ",name,", parent: ",parent||"null")))))};try{treedataio.displayName="treedataio",treedataio.__docgenInfo={description:"",displayName:"treedataio",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/basics/tree-data-io.tsx#treedataio"]={docgenInfo:treedataio.__docgenInfo,name:"treedataio",path:"src/stories/basics/tree-data-io.tsx#treedataio"})}catch(__react_docgen_typescript_loader_error){}const basics_stories={title:"Basics",component:basics_barebones},MinimalImplementation={render:()=>react.createElement(basics_barebones,null)},TreeDataImportExport={render:()=>react.createElement(tree_data_io,null)},AddAndRemoveNodesProgrammatically={render:()=>react.createElement(add_remove,null)},basics_stories_ModifyNodes={render:()=>react.createElement(modify_nodes,null)},PreventDrop={render:()=>react.createElement(can_drop,null)},basics_stories_Search={render:()=>react.createElement(basics_search,null)},basics_stories_Themes={render:()=>react.createElement(basics_themes,null)},basics_stories_Callbacks={render:()=>react.createElement(basics_callbacks,null)},RowDirectionSupport={render:()=>react.createElement(rtl_support,null)},__namedExportsOrder=["MinimalImplementation","TreeDataImportExport","AddAndRemoveNodesProgrammatically","ModifyNodes","PreventDrop","Search","Themes","Callbacks","RowDirectionSupport"];MinimalImplementation.parameters={...MinimalImplementation.parameters,docs:{...MinimalImplementation.parameters?.docs,source:{originalSource:"{\n  render: () => <BarebonesExample />\n}",...MinimalImplementation.parameters?.docs?.source}}},TreeDataImportExport.parameters={...TreeDataImportExport.parameters,docs:{...TreeDataImportExport.parameters?.docs,source:{originalSource:"{\n  render: () => <TreeDataIOExample />\n}",...TreeDataImportExport.parameters?.docs?.source}}},AddAndRemoveNodesProgrammatically.parameters={...AddAndRemoveNodesProgrammatically.parameters,docs:{...AddAndRemoveNodesProgrammatically.parameters?.docs,source:{originalSource:"{\n  render: () => <AddRemoveExample />\n}",...AddAndRemoveNodesProgrammatically.parameters?.docs?.source}}},basics_stories_ModifyNodes.parameters={...basics_stories_ModifyNodes.parameters,docs:{...basics_stories_ModifyNodes.parameters?.docs,source:{originalSource:"{\n  render: () => <ModifyNodesExample />\n}",...basics_stories_ModifyNodes.parameters?.docs?.source}}},PreventDrop.parameters={...PreventDrop.parameters,docs:{...PreventDrop.parameters?.docs,source:{originalSource:"{\n  render: () => <CanDropExample />\n}",...PreventDrop.parameters?.docs?.source}}},basics_stories_Search.parameters={...basics_stories_Search.parameters,docs:{...basics_stories_Search.parameters?.docs,source:{originalSource:"{\n  render: () => <SearchExample />\n}",...basics_stories_Search.parameters?.docs?.source}}},basics_stories_Themes.parameters={...basics_stories_Themes.parameters,docs:{...basics_stories_Themes.parameters?.docs,source:{originalSource:"{\n  render: () => <ThemesExample />\n}",...basics_stories_Themes.parameters?.docs?.source}}},basics_stories_Callbacks.parameters={...basics_stories_Callbacks.parameters,docs:{...basics_stories_Callbacks.parameters?.docs,source:{originalSource:"{\n  render: () => <CallbacksExample />\n}",...basics_stories_Callbacks.parameters?.docs?.source}}},RowDirectionSupport.parameters={...RowDirectionSupport.parameters,docs:{...RowDirectionSupport.parameters?.docs,source:{originalSource:"{\n  render: () => <RowDirectionExample />\n}",...RowDirectionSupport.parameters?.docs?.source}}}}}]);